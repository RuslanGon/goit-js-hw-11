{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightBox = new SimpleLightbox('.gallery-link');\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\nconst searchParams = {\n  key: '42129451-ab1d1e3d1abd6a79c6499a83d',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  loader.style.display = 'inline-block';\n  gallery.innerHTML = '';\n  const inputText = form.elements.search.value.trim();\n  searchParams.q = inputText;\n  fetchImage()\n    .then(images => renderGallery(images))\n    .catch(error => console.log(error));\n\n  form.reset();\n});\n\nfunction fetchImage() {\n  const urlparams = new URLSearchParams(searchParams);\n  return fetch(`https://pixabay.com/api/?${urlparams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderGallery(images) {\n  if (images.hits.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n    });\n  } else {\n    const item = images.hits\n      .map(\n        image => `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\" >\n      <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n      width = \"360\"\n      />\n    </a>\n    <div class=\"img-text\">\n    <div class=\"img-info\">\n    <h3>Likes</h3>\n    <p> ${image.likes}</p>\n    </div>\n    <div class=\"img-info\">\n    <h3>Views</h3>\n    <p> ${image.views}</p>\n    </div>\n       <div class=\"img-info\">\n    <h3>Comments</h3>\n    <p> ${image.comments}</p>\n    </div>\n       <div class=\"img-info\">\n    <h3>Downloads</h3>\n    <p> ${image.downloads}</p>\n    </div>\n      </div>\n  </li>`\n      )\n      .join('');\n\n    gallery.innerHTML = item;\n    \n    lightBox.refresh();\n  }\n  loader.style.display = 'none';\n}"],"names":["lightBox","SimpleLightbox","form","gallery","loader","searchParams","e","inputText","fetchImage","images","renderGallery","error","urlparams","response","iziToast","item","image"],"mappings":"6vBAKA,MAAMA,EAAW,IAAIC,EAAe,eAAe,EAC7CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACvB,MAAMC,EAAe,CACnB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEAH,EAAK,iBAAiB,SAAUI,GAAK,CACnCA,EAAE,eAAc,EAChBF,EAAO,MAAM,QAAU,eACvBD,EAAQ,UAAY,GACpB,MAAMI,EAAYL,EAAK,SAAS,OAAO,MAAM,OAC7CG,EAAa,EAAIE,EACjBC,EAAY,EACT,KAAKC,GAAUC,EAAcD,CAAM,CAAC,EACpC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCT,EAAK,MAAK,CACZ,CAAC,EAED,SAASM,GAAa,CACpB,MAAMI,EAAY,IAAI,gBAAgBP,CAAY,EAClD,OAAO,MAAM,4BAA4BO,GAAW,EAAE,KAAKC,GAAY,CACrE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASH,EAAcD,EAAQ,CAC7B,GAAIA,EAAO,KAAK,SAAW,EACzBK,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAAON,EAAO,KACjB,IACCO,GAAS;AAAA,oCACmBA,EAAM;AAAA;AAAA;AAAA,eAG3BA,EAAM;AAAA,eACNA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOXA,EAAM;AAAA;AAAA;AAAA;AAAA,UAINA,EAAM;AAAA;AAAA;AAAA;AAAA,UAINA,EAAM;AAAA;AAAA;AAAA;AAAA,UAINA,EAAM;AAAA;AAAA;AAAA,QAIT,EACA,KAAK,EAAE,EAEVb,EAAQ,UAAYY,EAEpBf,EAAS,QAAO,CACjB,CACDI,EAAO,MAAM,QAAU,MACzB"}